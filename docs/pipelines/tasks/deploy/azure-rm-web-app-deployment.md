---
title: Azure App Service Deploy
description: Update Azure WebApp Services On Windows, Web App On Linux with built-in images or docker containers, ASP.NET, .NET Core, PHP, Python or Node based Web applications, Function Apps, Mobile Apps, Api applications, Web Jobs using Web Deploy / Kudu REST APIs
ms.topic: reference
ms.prod: devops
ms.technology: devops-cicd
ms.assetid: 497D490F-EEA7-4F2B-AB94-48D9C1ACDCB1
ms.manager: dastahel
ms.author: dastahel
ms.date: 05/04/2018
monikerRange: 'vsts'
---

# Deploy: Azure App Service Deploy

![](_img/azurermwebappdeployment.png) Update Azure WebApp Services On Windows, Web App On Linux with built-in images or docker containers, ASP.NET, .NET Core, PHP, Python or Node based Web applications, Function Apps, Mobile Apps, Api applications, Web Jobs using Web Deploy / Kudu REST APIs

::: moniker range=">tfs-2018"

## YAML snippet

[!INCLUDE [temp](../_shared/yaml/AzureRmWebAppDeploymentV4.md)]

::: moniker-end

## Arguments

<table><thead><tr><th>Argument</th><th>Description</th></tr></thead>
<tr><td>Connection type</td><td>(Required) Select the connection type to use to deploy the WebApp.</td></tr>
<tr><td>Azure subscription</td><td>(Required) Select the Azure Resource Manager subscription for the deployment.</td></tr>
<tr><td>Publish profile path</td><td>(Required) </td></tr>
<tr><td>Publish profile password</td><td>(Required) It is recommended to store password in a secret variable and use that variable here e.g. $(Password).</td></tr>
<tr><td>App Service type</td><td>(Required) Choose from Web App On Windows, Web App On Linux, Web App for Containers, Function App and Mobile App.</td></tr>
<tr><td>App Service name</td><td>(Required) Enter or Select the name of an existing Azure App Service. App services based on selected app type will only be listed.</td></tr>
<tr><td>Deploy to Slot or App Service Environment</td><td>(Optional) Select the option to deploy to an existing deployment slot or Azure App Service Environment.<br />For both the targets, the task needs Resource group name.<br />In case the deployment target is a slot, by default the deployment is done to the production slot. Any other existing slot name can also be provided.<br />In case the deployment target is an Azure App Service environment, leave the slot name as ‘production’ and just specify the Resource group name.</td></tr>
<tr><td>Resource group</td><td>(Required) The Resource group name is required when the deployment target is either a deployment slot or an App Service Environment.<br />Enter or Select the Azure Resource group that contains the Azure App Service specified above.</td></tr>
<tr><td>Slot</td><td>(Required) Enter or Select an existing Slot other than the Production slot.</td></tr>
<tr><td>Registry or Namespace</td><td>(Required) A globally unique top-level domain name for your specific registry or namespace.<br/> Note: Fully qualified image name will be of the format: '<b>`<registry or namespace`></b>/`<repository`>:`<tag`>'. For example, '<b>myregistry.azurecr.io</b>/nginx:latest'.</td></tr>
<tr><td>Image</td><td>(Required) Name of the repository where the container images are stored.<br/> Note: Fully qualified image name will be of the format: '`<registry or namespace`>/<b>`<repository`></b>:`<tag`>'. For example, 'myregistry.azurecr.io/<b>nginx</b>:latest'.</td></tr>
<tr><td>Tag</td><td>(Optional) Tags are optional, it is the mechanism that registries use to give Docker images a version.<br/> Note: Fully qualified image name will be of the format: '`<registry or namespace`>/`<repository`>:<b>`<tag`></b>'. For example, 'myregistry.azurecr.io/nginx:<b>latest</b>'.</td></tr>
<tr><td>Virtual application</td><td>(Optional) Specify the name of the Virtual application that has been configured in the Azure portal. The option is not required for deployments to the App Service root.</td></tr>
<tr><td>Package or folder</td><td>(Required) File path to the package or a folder containing app service contents generated by MSBuild or a compressed zip or war file.<br />Variables ( [Build](https://visualstudio.microsoft.com/docs/build/define/variables) | [Release](https://visualstudio.microsoft.com/docs/release/author-release-definition/understanding-tasks#predefvariables)), wild cards are supported. <br/> For example, $(System.DefaultWorkingDirectory)/\*\*/\*.zip or $(System.DefaultWorkingDirectory)/\*\*/\*.war.</td></tr>
<tr><td>Runtime Stack</td><td>(Required) Select the framework and version.</td></tr>
<tr><td>Startup command </td><td>(Optional) Enter the start up command.</td></tr>
<tr><td>Deployment script type</td><td>(Optional) Customize the deployment by providing a script that will run on the Azure App service once the task has completed the deployment successfully . For example restore packages for Node, PHP, Python applications. [Learn more](https://go.microsoft.com/fwlink/?linkid=843471).</td></tr>
<tr><td>Inline Script</td><td>(Required) undefined</td></tr>
<tr><td>Deployment script path</td><td>(Required) undefined</td></tr>
<tr><td>Generate web.config parameters for Python, Node.js and Go apps</td><td>(Optional) A standard Web.config will be generated and deployed to Azure App Service if the application does not have one. The values in web.config can be edited and vary based on the application framework. For example for node.js application, web.config will have startup file and iis_node module values. This edit feature is only for the generated web.config. [Learn more](https://go.microsoft.com/fwlink/?linkid=843469).</td></tr>
<tr><td>App settings</td><td>(Optional) Edit web app application settings following the syntax -key value . Value containing spaces should be enclosed in double quotes.<br /> <b>Example</b> : -Port 5000 -RequestTimeout 5000 <br /> -WEBSITE_TIME_ZONE "Eastern Standard Time"</td></tr>
<tr><td>Configuration settings</td><td>(Optional) Edit web app configuration settings following the syntax -key value. Value containing spaces should be enclosed in double quotes.<br /> Example : -phpVersion 5.6 -linuxFxVersion: node|6.11</td></tr>
<tr><td>Take App Offline</td><td>(Optional) Select the option to take the Azure App Service offline by placing an app_offline.htm file in the root directory of the App Service before the sync operation begins. The file will be removed after the sync operation completes successfully.</td></tr>
<tr><td>Publish using Web Deploy</td><td>(Optional) Publish using Web Deploy options are supported only when using Windows agent. On other platforms, the task relies on [Kudu REST APIs](https://github.com/projectkudu/kudu/wiki/REST-API) to deploy the Azure App Service, and following options are not supported</td></tr>
<tr><td>SetParameters file</td><td>(Optional) Optional: location of the SetParameters.xml file to use.</td></tr>
<tr><td>Remove additional files at destination</td><td>(Optional) Select the option to delete files on the Azure App Service that have no matching files in the App Service package or folder.<br /><br />Note: This will also remove all files related to any extension installed on this Azure App Service. To prevent this, select 'Exclude files from App_Data folder' checkbox. </td></tr>
<tr><td>Exclude files from the App_Data folder</td><td>(Optional) Select the option to prevent files in the App_Data folder from being deployed to the Azure App Service.</td></tr>
<tr><td>Additional arguments</td><td>(Optional) Additional Web Deploy arguments following the syntax -key:value .<br />These will be applied when deploying the Azure App Service. Example: -disableLink:AppPoolExtension -disableLink:ContentExtension.<br />For more examples of Web Deploy operation settings, refer to  [this](https://go.microsoft.com/fwlink/?linkid=838471).</td></tr>
<tr><td>Rename locked files</td><td>(Optional) Select the option to enable msdeploy flag MSDEPLOY_RENAME_LOCKED_FILES=1 in Azure App Service application settings. The option if set enables msdeploy to rename locked files that are locked during app deployment</td></tr>
<tr><td>XML transformation</td><td>(Optional) The config transforms will be run for `*.Release.config` and `*.<EnvironmentName>.config` on the `*.config file`.<br/> Config transforms will be run prior to the Variable Substitution.<br/>XML transformations are supported only for Windows platform.</td></tr>
<tr><td>XML variable substitution</td><td>(Optional) Variables defined in the Build or Release Definition will be matched against the 'key' or 'name' entries in the appSettings, applicationSettings, and connectionStrings sections of any config file and parameters.xml. Variable Substitution is run after config transforms. <br/><br/> Note: If same variables are defined in the Release Definition and in the Environment, then the Environment variables will supersede the Release Definition variables.<br/></td></tr>
<tr><td>JSON variable substitution</td><td>(Optional) Provide new line separated list of JSON files to substitute the variable values. Files names are to be provided relative to the root folder. <br/> To substitute JSON variables that are nested or hierarchical, specify them using JSONPath expressions. <br/> <br/> For example, to replace the value of ‘ConnectionString’ in the sample below, you need to define a variable as ‘Data.DefaultConnection.ConnectionString’ in the build/release definition (or release definition’s environment). <br/> {<br/>&nbsp;&nbsp;"Data": {<br/>&nbsp;&nbsp;&nbsp;&nbsp;"DefaultConnection": {<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"ConnectionString": "Server=(localdb)\SQLEXPRESS;Database=MyDB;Trusted_Connection=True"<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;}<br/> }<br/> Variable Substitution is run after configuration transforms. <br/><br/> Note: Build/Release’s system definition variables are excluded in substitution</td></tr>
[!INCLUDE [temp](../_shared/control-options-arguments.md)]
</table>

## Open source

This task is open source [on GitHub](https://github.com/Microsoft/vsts-tasks). Feedback and contributions are welcome.

## Q & A

<!-- BEGINSECTION class="md-qanda" -->

<!-- ENDSECTION -->
