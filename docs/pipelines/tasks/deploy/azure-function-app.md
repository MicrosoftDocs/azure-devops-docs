---
title: Azure Function App task
description: The Azure App Service Deploy task is used to update Azure App Services to deploy Web Apps, Functions, and WebJobs.
ms.prod: devops
ms.technology: devops-cicd
ms.topic: reference
ms.assetid: 2A56E8FD-07F1-43EF-AFB9-22B611DADC97
ms.manager: mijacobs
ms.author: atulmal
author: azooinmyluggage
ms.date: 5/2/2019
monikerRange: 'azure-devops'
---

# Azure Function App task

[!INCLUDE [include](../../_shared/version-team-services.md)]

Use the Azure Function App task to deploy [Functions](/azure/azure-functions/) to Azure. 

## Arguments

<table><thead><tr><th>Parameters</th><th>Description</th></tr></thead>
<tr><td><code>azureSubscription</code><br/>Azure subscription</td><td>(Required) Name of the <a href="../../library/connect-to-azure.md" data-raw-source="[Azure Resource Manager service connection](../../library/connect-to-azure.md)">Azure Resource Manager service connection</a></td></tr>
<tr><td><code>appType</code><br/>App type</td><td>(Required) Function App type</td>
<tr><td><code>appName</code><br/>App name</td><td>(Required) Name of an existing App Service</td>
<tr><td><code>deployToSlotOrASE</code><br/>Deploy to Slot or App Service Environment</td><td>(Optional) Select the option to deploy to an existing deployment slot or Azure App Service Environment. For both the targets, the task needs Resource group name. In case the deployment target is a slot, by default the deployment is done to the production slot. Any other existing slot name can also be provided. In case the deployment target is an Azure App Service environment, specify the resource group name<br/>Default value: false</td>
<tr><td><code>resourceGroupName</code><br/>Resource group</td><td>(Required if deployToSlotOrASE is true) Name of the resource group</td>
<tr><td><code>slotName</code><br/>Slot</td><td>(Required if deployToSlotOrASE == true) Name of the slot<br/>Default value: production</td>
<tr><td><code>package</code><br/>Package or folder</td><td>(Required) File path to the package or a folder containing app service contents generated by MSBuild or a compressed zip or war file. Variables ( <a href="https://docs.microsoft.com/vsts/pipelines/build/variables" data-raw-source="[Build](https://docs.microsoft.com/vsts/pipelines/build/variables)">Build</a> | <a href="https://docs.microsoft.com/vsts/pipelines/release/variables#default-variables" data-raw-source="[Release](https://docs.microsoft.com/vsts/pipelines/release/variables#default-variables)">Release</a>), wildcards are supported. For example, $(System.DefaultWorkingDirectory)/<strong>/*.zip or $(System.DefaultWorkingDirectory)/</strong>/*.war</td>
<tr><td><code>runtimeStack</code><br/>Runtime stack</td><td>(Optional) Web App on Linux offers two different options to publish your application, one is custom image deployment (Web App for Containers) and the other is app deployment with a built-in platform image (Web App on Linux). You will see this parameter only when you select <b>Linux Web App</b> in the app type selection option in the task. [Here](supports a number of Built-in images) is the list of Built-in images support</td>
<tr><td><code>startUpCommand</code><br/>Startup command</td><td>(Optional; Relevant if appType == webAppLinux) Startup command to be run post deployment</td>
<tr><td><code>customWebConfig</code><br/>Generate web.config parameters for Python, Node.js, Go and Java apps</td><td>(Optional) A standard Web.config will be generated and deployed to Azure App Service if the application does not have one. The values in web.config can be edited and vary based on the application framework. For example for node.js application, web.config will have startup file and iis_node module values. This edit feature is only for the generated web.config. <a href="https://go.microsoft.com/fwlink/?linkid=843469" data-raw-source="[Learn more](https://go.microsoft.com/fwlink/?linkid=843469)">Learn more</a>
<tr><td><code>appSettings</code><br/>App settings</td><td>(Optional) Application settings to be entered using the syntax &#39;-key value&#39;. Values containing spaces should be enclosed in double quotes. <br/>Example: <b>-Port 5000 -RequestTimeout 5000 -WEBSITE_TIME_ZONE &quot;Eastern Standard Time&quot;</b></td>
<tr><td><code>configurationStrings</code><br/>Configuration settings</td><td>(Optional) Configuration strings to be entered using the syntax &#39;-key value&#39;. Values containing spaces should be enclosed in double quotes.<br/>Example: <b>-phpVersion 5.6 -linuxFxVersion: node|6.11</b></td>
<tr><td><code>deploymentMethod</code><br/>Deployment method</td><td>(Required) <a href="#deployment-methods" data-raw-source="[Deployment method](#deployment-methods)">Deployment method</a> for the app<br/>Default value: auto</td>
</table>

Following is an example YAML snippet to deploy Azure Functions on Windows.

## Example

```YAML

variables:
  azureSubscription: Contoso
  # To ignore SSL error uncomment the below variable
  # VSTS_ARM_REST_IGNORE_SSL_ERRORS: true

steps:
- task: AzureFunctionApp@1
  displayName: Azure Function App Deploy
  inputs:
    azureSubscription: $(azureSubscription)
    appName: samplefunctionapp
    package: $(System.DefaultWorkingDirectory)/**/*.zip
```
To deploy Function on Linux, add the appType parameter and set it to <code>appType: functionAppLinux</code>. If not mentioned, <code>functionApp</code> is taken as the default value.

To explicitly specify the deployment method as Zip Deploy, add the parameter <code>deploymentMethod: zipDeploy</code>. Other supported value for this parameter is <code>runFromPackage</code>. 
If not mentioned, <code>auto</code> is taken as the default value.

For an end-to-end walkthrough, see [Build and deploy Java to Azure Functions](../../ecosystems/java-function.md) for End-to-end CI/CD.

## Deployment methods

Several deployment methods are available in this task. Auto is the default option. 

To change the deployment option in designer task, expand Additional Deployment Options and enable Select deployment method to choose from additional package-based deployment options.

Based on the type of Azure App Service and Azure Pipelines agent, the task chooses a suitable deployment technology. The different deployment technologies used by the task are:

* Kudu REST APIs

* Zip Deploy

* RunFromPackage

By default the task tries to select the appropriate deployment technology given the input package, app service type and agent OS.

* When post deployment script is provided, use Zip Deploy 
* When the App Service type is Web App on Linux App, use Zip Deploy 
* If War file is provided, use War Deploy 
* If Jar file is provided, use Run From Zip 
* For all others, use Run From Package (via Zip Deploy) 

On non-Windows agent (for any App service type), the task relies on [Kudu REST APIs](https://github.com/projectkudu/kudu/wiki/REST-API) to deploy the Web App.

### [Kudu REST APIs](https://github.com/projectkudu/kudu/wiki/REST-API)

Works on Windows as well as Linux automation agent when the target is a Web App on Windows or Web App on Linux (built-in source) or Function App. The task uses Kudu to copy over files to the Azure App service.

### Zip Deploy

Creates a .zip deployment package of the chosen Package or folder and deploys the file contents to the wwwroot folder of the App Service name function app in Azure. This option overwrites all existing contents in the wwwroot folder. For more information, see [Zip deployment for Azure Functions](https://docs.microsoft.com/azure/azure-functions/deployment-zip-push).

### RunFromPackage

Creates the same deployment package as Zip Deploy. However, instead of deploying files to the wwwroot folder, the entire package is mounted by the Functions runtime. With this option, files in the wwwroot folder become read-only. For more information, see [Run your Azure Functions from a package file](https://docs.microsoft.com/azure/azure-functions/run-functions-from-deployment-package).

## Open Source

This task is open source [on GitHub](https://github.com/Microsoft/azure-pipelines-tasks). Feedback and contributions are welcome.
